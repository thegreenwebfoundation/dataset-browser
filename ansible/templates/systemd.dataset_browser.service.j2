# {{ ansible_managed }}
# Last run: {{ template_run_date }}

[Unit]
Description=Dataset Browser
Documentation=https://datasets.greenweb.org
Wants=network-online.target
After=network-online.target

[Service]
ExecStart={{ project_root}}/current/run_dataset_browser.sh
ExecReload=/bin/kill -s HUP $MAINPID
WorkingDirectory={{ project_root}}/current/
EnvironmentFile={{ project_root}}/current/.env
User={{ service_user }}
Group={{ service_user }}
KillMode=control-group
KillSignal=SIGTERM

# Resource limits
MemoryHigh=800M
MemoryMax=1G

# Restart configuration
Restart=always
RestartSec=10s

[Install]
WantedBy=multi-user.target
